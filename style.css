/* ============================================
   Modern Responsive Design
   e-Stat API 統計データ可視化アプリケーション
   ============================================ */

/* ============================================
   CSS Variables (Design Tokens)
   ============================================ */
:root {
	/* Color Palette */
	--primary-color: #4f46e5;
	--primary-hover: #4338ca;
	--primary-light: #818cf8;
	--secondary-color: #06b6d4;
	--success-color: #10b981;
	--warning-color: #f59e0b;
	--error-color: #ef4444;

	/* Neutral Colors */
	--gray-50: #f9fafb;
	--gray-100: #f3f4f6;
	--gray-200: #e5e7eb;
	--gray-300: #d1d5db;
	--gray-400: #9ca3af;
	--gray-500: #6b7280;
	--gray-600: #4b5563;
	--gray-700: #374151;
	--gray-800: #1f2937;
	--gray-900: #111827;

	/* Text Colors */
	--text-primary: var(--gray-900);
	--text-secondary: var(--gray-600);
	--text-tertiary: var(--gray-500);

	/* Background Colors */
	--bg-primary: #ffffff;
	--bg-secondary: var(--gray-50);
	--bg-tertiary: var(--gray-100);

	/* Spacing */
	--spacing-xs: 0.25rem;
	--spacing-sm: 0.5rem;
	--spacing-md: 1rem;
	--spacing-lg: 1.5rem;
	--spacing-xl: 2rem;
	--spacing-2xl: 3rem;

	/* Border Radius */
	--radius-sm: 0.375rem;
	--radius-md: 0.5rem;
	--radius-lg: 0.75rem;
	--radius-xl: 1rem;

	/* Shadows */
	--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
	--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
	--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
	--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

	/* Transitions */
	--transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
	--transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
	--transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);

	/* Typography */
	--font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", "Hiragino Kaku Gothic ProN", Meiryo, "Noto Sans JP", Roboto, sans-serif;
	--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;

	/* Z-Index */
	--z-dropdown: 1000;
	--z-sticky: 1020;
	--z-fixed: 1030;
	--z-modal-backdrop: 1040;
	--z-modal: 1050;
	--z-tooltip: 1060;
}

/* ============================================
   Icon Fonts
   ============================================ */
[class^="icon-"],
[class*=" icon-"] {
	speak: none;
	font-style: normal;
	font-weight: normal;
	font-variant: normal;
	text-transform: none;
	line-height: 1;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

.icon-settings:before{
	content: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAACBUlEQVQ4T7WVSUseQRCGP42iJ0VwAxUCCi5HBQOKIjkYcjWSiwmKCG64Ef+HgbjgQQxKNvAYAuopIUZyEUS9KJhDRBTEjcQFNfF59Rsom/mcQbDhYaqqq9+e7urpiYvcQ4sLqdlJXgasw0TQmDCi2YhsgnL/Qlb0GVPbFU0h8wyOzYgO7CHjN2C/N74mOYEDL2ZF0wjOQh4MwCg8gtdQaESWsV/BIvSDtmYJnsC+8qzoJP4LM/gfdnzMNUYi/53xmrzPFX1K4MstIkFdZSQsuKJ66/nokoME3H5tW60XdAs1TEe7M+IH/hv4BfnQA+VOziB+l59oJsE10Anw2geMl3BhYgnYitebmCpfBFve8p9jqEDaUw3w2hFGDlxV1Gnp+BuQZOIq7FeY0vJVRb+mhJoYfQrPQYVf/72JtjLbM3gMD8zM+qpyYdfnbXQP/HaWf4r/Gd7Z6utzWwVbqE/42u9zI5yI/RHqTGwPu8B7gTBH6ifJOlK6oTRQR0oH3Tb1d3sBV/QbHVU+yw0KfSehGq6KbkUr8dV516YLZcYVHSHQZhSDLhS3f5yxza6orr5pKAbdOKI0+iwxk61ga191eejk9II+Yb3poSsqPxVU3R0j0oj91vgt2GPGT8bWl/jHi4X5neiIbYMG6w7Q78VOavSvzTCiymuCh1Fx7f2tLaxokM6N/ktUhl3SlqVzOwAAAABJRU5ErkJggg==);
}
.icon-bar-chart:before{
	content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAlElEQVRIS92VYQqAMAiF3c3rZutkTX8IIio4NKpAGEHv2/O5NgDgxuJniHXJkgQJcGFNrKNEVe2YAGeHOHHYQTugvUXtIWdaJKeONhZ+u5PBOwGZDLYcZKbIA+hDSgd3VmZggh8DWC0yLaufoxzT0IEVstfr1PuoRSkhz9l/AO0ZWFP0/QxKrmd96ZeIShEGlAuz4ALhfXOYSVlZqwAAAABJRU5ErkJggg==);
}
.icon-database:before{
	content: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAgCAYAAAAIXrg4AAAB10lEQVRIS+2WyS4EURSGtUWbYlqwIMaYIkJMS2LNip1EpIN4AImH4BVMiWBJLHgAtojEwhTdCBYsiEgMG76/c0tKddNTddv0Sb5UddW9Z7j3/Lfak5Fk8yTZf0a4ADUE7YUOaIAqKIF88JqEPrg+wwNcwykcwA5c2pO2AmjyJPigJcGqjpi/BHPwogDdsAHlNsfKaBv24Bzu4Ane4BOyoMjMqefaBf3QZPNxw/2gAgSg2vZilPsV4yiWYuRrGFZtkwJ6qIzsNsKPtTgDaO6y3Vm4AHqvZdmCfTgDLdEjvJrJOVyLoQwaoRMGoM5Z8m8BYlmaP8emJMAxKdh337XsceRXBa2gNq110zO+rmDIEpo2bQzGoT3BQIfMX4R5NYUCrMM0XBjH6ow+aINmkAD1LA+USCZIcDoq7kFHxQlYR4UEJtMxM2Nt8ruJumAGOrURbVHyJ1VPgA+84brolhe7JpCODK2lMlXGylyWDYVQCjoMpQUdjj2gar8tJW0a73JEtWyqwA/6BiTDgjrQOSIdVLgc4YcOcnGunZcW1J6JWIgONvE2BZYOVIn1yVR3VJpuKeCq7pFFq4PZtA4i7lVKhJbWgXMfQnTgHOCWDoJ+/+XPb8TWi2XAF9U+gLNHYKJPAAAAAElFTkSuQmCC);
}
.icon-code:before{
	content: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAgCAYAAAAIXrg4AAAAu0lEQVRIS+2WSw6AIAxE4eTqydUaSUagLZBWXOjKkDKvH4YQg/MXnfUDAXYjyHbqrLmWJYC0CwgCRttFWS+Q+QNiASBtFmIFYCGWgCrEGlBAPAAPiBeAIJe/PgFI7sxdyq0nSzRVgOcbDcSt402hAiSHiu69KSKgRUCLYQHaRmyDFDsPIF5ekL5W6dwhp0RdjylCUtvyAdfWu4yGgr3/6gx6BfP4H6B28P0WqSmNBFi/7IocRl9zzcW4Aw7k512Lg0ORugAAAABJRU5ErkJggg==);
}
.icon-map-plot:before{
	content: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAYCAYAAAAlBadpAAABmklEQVQ4T42TyyvEURTHDVIWSmwkUUqRx8rS2gbRJOUxFrK2k8iWhZ0/QJKRR5GwYG1pIY8SpUSkUBbKgsHnq7l15rq/Gbc+zT2P7733nPmdWF7mKsQcgEFohVJ4hSNYgVX4dJKY0Taw34Am70BrnmL0waWcTizhIZRnEbrQM5s2HSCxnnqc40b/zBOVJfEwLHnRb+xdOINm6DKvdKkJiQ+g3YgljMO28fWw3/IO2Jf4BcpM4g777kDt8usFbj1J/AGq260ZNtMBsfxTxp+S+AZq/nGzetBp8m4lXoYh4wzV3Etc34D9LpIy1JxN75k6YA/U7Rbo8IRKj0tcBA/wnw/E3aEmV7pnzGGMB5oU5VL+hBNXY1yD7XqUUINRC3cZDcChacq1kiQklGTFjekGWZ9/0BcOTd2FL5a9Dhq5qLVGoN8F/VvqCZxDQUCdwqfX/c5y6Gb5FmAkIJZ/1PpD9VWRcAXFJvGdfR3c5xIrPguTJjE4LFGdLUnfXsHvY/rWN7+UbH+L6nb1LwZ6kPE/+/F8HPMwBhqUP+sH9zlJ8ZQ6yqcAAAAASUVORK5CYII=);
}
.icon-line-chart:before{
	content: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAABb0lEQVQ4T7WTzyuEQRiAd60zztrIwcVRyB7kIISbw5ZSlKODrItydVFyEDcODnJycZAkbQ5Cuaj1B6zkuu2J5MfzbvNpTPPtzFfzTT3NzDfvPO/8+CabSaFkU3BmfKRdJK4mSe6SziDrgb2Q0jtkj7AcSjqO6BKuYSyU9AbRCLxBZwjpKJKyJmqnXfcVx13UlbHlYfr3StqrzrhE/W1LZJMWCLw1ghfpH0GrGhukPoYF+DLFNuk5QVNG4Bb9ddiEDW3slPYcfOrxIpXsUenXtqnHndHZhjK0GAllEUX4iL6L9Mdcvuo/U/eptrwoietWfbm0tph5jWdqk8o5ydk+WCa+8m0A9mHWJo6TyiXMwwvktYmygAmQvyMHhyCX9a+43v4F0ZPajB3aa3Hbjr67pCJZVcFP1EPwdyHNzrRZ4iUGD+BdnWPFtUoZd600eggrxO76CH2k8uZPYNpX6COVmA6ohZYm8TViXWeaWJia9Bes4Dka194+mQAAAABJRU5ErkJggg==);
}
.icon-scatter-plot:before{
	content: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAA0klEQVQ4T2NkoAFgBJqpDcQBQMxKBfP/As1YDzL0ERDLUsFAmBGPQYb+p6KBYKPQDZ0LFHtChiUyQD3JMH3ohjJR4HK4j9ENBfHJBRQZ6ga01QpqcwOSC8g2NBBoyEqk5IfsM7IMRTfwN9BwNkpcis3AcFBCJ9dQYgwEmU2094k1kGhDSTGQaEN/IcUyKFLQwxA9PRPlfZgiYgwk2qWwhH0MqGMXEdmMKJcSYQ6KEvoaSpOij1QvY1VPi+rkEchQHSAGVXwsVHDmH1B5QEmhjNMNAJMTRSHx58TMAAAAAElFTkSuQmCC);
}

/* ============================================
   Base Styles
   ============================================ */
*,
*::before,
*::after {
	box-sizing: border-box;
}

html {
	font-size: 16px;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

html, body {
	margin: 0;
	padding: 0;
	width: 100%;
	height: 100%;
	overflow: hidden;
}

body {
	font-family: var(--font-sans);
	font-size: 0.875rem;
	line-height: 1.6;
	color: var(--text-primary);
	background: var(--bg-secondary);
}

input, textarea, select, button {
	font-family: inherit;
	font-size: inherit;
	line-height: inherit;
}

p {
	margin: 0 0 var(--spacing-md);
}

a {
	color: var(--primary-color);
	text-decoration: none;
	transition: color var(--transition-fast);
}

a:hover {
	color: var(--primary-hover);
}

/* ============================================
   Layout
   ============================================ */
.contents {
	width: 100%;
	height: 100%;
	display: flex;
	flex-direction: column;
}

.contents-x {
	display: flex;
	flex: 1;
	overflow: hidden;
}

.main {
	display: flex;
	flex: 1;
	flex-direction: column;
	order: 2;
	overflow: hidden;
	background: var(--bg-primary);
}

.side-bar {
	width: 380px;
	display: flex;
	flex-direction: column;
	order: 1;
	background: var(--bg-primary);
	border-right: 1px solid var(--gray-200);
	overflow: hidden;
}

/* ============================================
   Sidebar Header
   ============================================ */
.side-bar-header {
	display: flex;
	align-items: center;
	padding: var(--spacing-lg);
	background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-hover) 100%);
	color: white;
	box-shadow: var(--shadow-md);
}

.side-bar-title {
	flex: 1;
	font-size: 1.125rem;
	font-weight: 700;
	letter-spacing: -0.025em;
}

.config-button {
	padding: var(--spacing-sm);
	cursor: pointer;
	border-radius: var(--radius-md);
	transition: background-color var(--transition-fast);
	display: flex;
	align-items: center;
	justify-content: center;
}

.config-button:hover {
	background-color: rgba(255, 255, 255, 0.1);
}

/* ============================================
   Menu & Navigation
   ============================================ */
.menu {
	padding: var(--spacing-md) var(--spacing-lg);
	cursor: pointer;
	background: var(--bg-primary);
	border-bottom: 1px solid var(--gray-200);
	font-weight: 600;
	color: var(--text-primary);
	transition: all var(--transition-fast);
	user-select: none;
}

.menu:hover {
	background: var(--gray-50);
	color: var(--primary-color);
}

/* ============================================
   Side Bar Content
   ============================================ */
.side-bar-content {
	padding: var(--spacing-lg);
	overflow-y: auto;
	overflow-x: hidden;
}

.side-bar-main {
	flex: 1;
	overflow-y: auto;
}

/* Add data section */
.add-statsId input[type="text"],
.statsId {
	width: 100%;
	padding: var(--spacing-sm) var(--spacing-md);
	border: 1px solid var(--gray-300);
	border-radius: var(--radius-md);
	font-size: 0.875rem;
	transition: all var(--transition-fast);
	margin-bottom: var(--spacing-sm);
}

.add-statsId input[type="text"]:focus,
.statsId:focus {
	outline: none;
	border-color: var(--primary-color);
	box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

.add-statsId input[type="button"],
#load-statsId,
#add-statsId {
	width: 100%;
	padding: var(--spacing-sm) var(--spacing-md);
	background: var(--primary-color);
	color: white;
	border: none;
	border-radius: var(--radius-md);
	font-weight: 600;
	cursor: pointer;
	transition: all var(--transition-fast);
	margin-top: var(--spacing-sm);
}

.add-statsId input[type="button"]:hover,
#load-statsId:hover,
#add-statsId:hover {
	background: var(--primary-hover);
	transform: translateY(-1px);
	box-shadow: var(--shadow-md);
}

#add-statsId {
	background: var(--gray-600);
	margin-bottom: var(--spacing-md);
}

#add-statsId:hover {
	background: var(--gray-700);
}

.file-upload {
	margin-top: var(--spacing-md);
}

.file-upload input[type="file"] {
	width: 100%;
	padding: var(--spacing-md);
	border: 2px dashed var(--gray-300);
	border-radius: var(--radius-md);
	background: var(--gray-50);
	cursor: pointer;
	transition: all var(--transition-fast);
}

.file-upload input[type="file"]:hover {
	border-color: var(--primary-color);
	background: var(--primary-color);
	background-opacity: 0.05;
}

.remove-user-data {
	margin-top: var(--spacing-md);
	padding-top: var(--spacing-md);
	border-top: 1px solid var(--gray-200);
}

.remove-user-data a {
	color: var(--error-color);
	font-size: 0.875rem;
	font-weight: 500;
}

.remove-user-data a:hover {
	text-decoration: underline;
}

/* ============================================
   Tab Bar
   ============================================ */
.tab-bar {
	display: flex;
	background: var(--bg-primary);
	border-bottom: 2px solid var(--gray-200);
}

.tab {
	flex: 1;
	padding: var(--spacing-md) var(--spacing-sm);
	text-align: center;
	font-weight: 600;
	font-size: 0.875rem;
	color: var(--text-secondary);
	cursor: pointer;
	transition: all var(--transition-fast);
	border-bottom: 3px solid transparent;
	user-select: none;
}

.tab:hover {
	color: var(--text-primary);
	background: var(--gray-50);
}

.tab.active {
	color: var(--primary-color);
	border-bottom-color: var(--primary-color);
	background: white;
}

/* ============================================
   List Component
   ============================================ */
.list {
	max-height: 400px;
	overflow-y: auto;
	background: var(--gray-50);
	border-radius: var(--radius-lg);
	padding: var(--spacing-sm);
}

.list::-webkit-scrollbar {
	width: 8px;
}

.list::-webkit-scrollbar-track {
	background: var(--gray-100);
	border-radius: var(--radius-md);
}

.list::-webkit-scrollbar-thumb {
	background: var(--gray-300);
	border-radius: var(--radius-md);
}

.list::-webkit-scrollbar-thumb:hover {
	background: var(--gray-400);
}

.list-category-header {
	padding: var(--spacing-md) var(--spacing-lg);
	font-weight: 700;
	font-size: 0.75rem;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	color: var(--text-tertiary);
}

.list-category {
	padding: var(--spacing-sm);
}

.list-item {
	display: inline-block;
	width: 50%;
	padding: var(--spacing-xs);
	vertical-align: top;
}

.list-item-inner {
	display: flex;
	align-items: center;
	padding: var(--spacing-md);
	background: white;
	border-radius: var(--radius-md);
	cursor: pointer;
	transition: all var(--transition-fast);
	box-shadow: var(--shadow-sm);
	min-height: 70px;
}

.list-item:hover .list-item-inner {
	transform: translateY(-2px);
	box-shadow: var(--shadow-md);
	background: var(--primary-color);
	color: white;
}

.list-item.active .list-item-inner {
	background: var(--primary-color);
	color: white;
	box-shadow: var(--shadow-lg);
}

.list-icon {
	width: 28px;
	height: 28px;
	flex-shrink: 0;
	display: flex;
	align-items: center;
	justify-content: center;
}

.list-content {
	flex: 1;
	margin-left: var(--spacing-md);
	overflow: hidden;
}

.list-text {
	display: block;
	font-weight: 600;
	font-size: 0.875rem;
	margin-bottom: var(--spacing-xs);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.list-subtext {
	display: block;
	font-size: 0.75rem;
	opacity: 0.7;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

/* ============================================
   Selector Component
   ============================================ */
.selector {
	display: flex;
	align-items: center;
	padding: var(--spacing-md);
	background: white;
	border: 1px solid var(--gray-200);
	border-radius: var(--radius-lg);
	cursor: pointer;
	transition: all var(--transition-fast);
	margin-bottom: var(--spacing-md);
}

.selector:hover {
	border-color: var(--primary-color);
	box-shadow: var(--shadow-md);
	transform: translateY(-1px);
}

.selector-icon {
	width: 24px;
	height: 24px;
	flex-shrink: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	color: var(--primary-color);
}

.selector-content {
	flex: 1;
	margin-left: var(--spacing-md);
	overflow: hidden;
}

.selector-subtitle {
	display: block;
	font-size: 0.75rem;
	color: var(--text-tertiary);
	margin-bottom: var(--spacing-xs);
	text-transform: uppercase;
	letter-spacing: 0.05em;
}

.selector-text {
	display: block;
	font-weight: 600;
	color: var(--text-primary);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

/* ============================================
   Main Content Area
   ============================================ */
.main-visualization {
	flex: 1;
	position: relative;
	overflow: hidden;
	background: white;
	border-bottom: 1px solid var(--gray-200);
}

.main-details {
	overflow-y: auto;
	background: var(--gray-50);
	padding: var(--spacing-lg);
}

.main-detail {
	margin-bottom: var(--spacing-lg);
}

/* ============================================
   Chart & Map Containers
   ============================================ */
.chart,
.map {
	width: 100%;
	height: 100%;
	position: absolute;
	top: 0;
	left: 0;
	opacity: 0;
	pointer-events: none;
	transition: opacity var(--transition-base);
}

.chart.show,
.map.show {
	opacity: 1;
	pointer-events: all;
}

/* ============================================
   Loading & Error States
   ============================================ */
.main-header-loading {
	position: absolute;
	top: var(--spacing-md);
	left: var(--spacing-md);
	display: flex;
	align-items: center;
	gap: var(--spacing-sm);
	padding: var(--spacing-sm) var(--spacing-md);
	background: white;
	border-radius: var(--radius-lg);
	box-shadow: var(--shadow-lg);
	opacity: 0;
	pointer-events: none;
	transition: opacity var(--transition-base);
	z-index: var(--z-fixed);
	font-size: 0.875rem;
	color: var(--text-secondary);
}

.main-header-loading.show {
	opacity: 1;
	pointer-events: all;
}

.main-header-loading img {
	width: 20px;
	height: 20px;
}

.main-header-error {
	margin: var(--spacing-lg);
	padding: var(--spacing-md) var(--spacing-lg);
	background: #fef2f2;
	border-left: 4px solid var(--error-color);
	border-radius: var(--radius-md);
	color: #991b1b;
	font-weight: 500;
	box-shadow: var(--shadow-sm);
	animation: slideIn var(--transition-slow);
}

@keyframes slideIn {
	from {
		transform: translateY(-10px);
		opacity: 0;
	}
	to {
		transform: translateY(0);
		opacity: 1;
	}
}

.error-text {
	display: block;
	font-size: 0.875rem;
}

/* ============================================
   Tables
   ============================================ */
.main-table {
	width: 100%;
	background: white;
	border-radius: var(--radius-lg);
	overflow: hidden;
	box-shadow: var(--shadow-sm);
	border-collapse: collapse;
}

.main-table th,
.main-table td {
	padding: var(--spacing-md);
	text-align: left;
	border-bottom: 1px solid var(--gray-200);
}

.main-table th {
	background: var(--gray-50);
	font-weight: 600;
	font-size: 0.75rem;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	color: var(--text-secondary);
}

.main-table tbody tr:hover {
	background: var(--gray-50);
}

.main-table tbody tr:last-child td {
	border-bottom: none;
}

/* ============================================
   Tooltip (D3.js)
   ============================================ */
.tooltip {
	position: absolute;
	padding: var(--spacing-sm) var(--spacing-md);
	background: var(--gray-900);
	color: white;
	border-radius: var(--radius-md);
	font-size: 0.75rem;
	font-weight: 500;
	pointer-events: none;
	z-index: var(--z-tooltip);
	box-shadow: var(--shadow-xl);
	white-space: nowrap;
}

.tooltip::before {
	content: '';
	position: absolute;
	bottom: -4px;
	left: 50%;
	transform: translateX(-50%);
	width: 0;
	height: 0;
	border-left: 4px solid transparent;
	border-right: 4px solid transparent;
	border-top: 4px solid var(--gray-900);
}

/* ============================================
   Modal
   ============================================ */
.modal {
	display: none;
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: rgba(0, 0, 0, 0.5);
	backdrop-filter: blur(4px);
	z-index: var(--z-modal-backdrop);
	align-items: center;
	justify-content: center;
	animation: fadeIn var(--transition-base);
}

@keyframes fadeIn {
	from { opacity: 0; }
	to { opacity: 1; }
}

.modal.show {
	display: flex;
}

.modal-inner {
	background: white;
	border-radius: var(--radius-xl);
	box-shadow: var(--shadow-xl);
	max-width: 500px;
	width: 90%;
	max-height: 90vh;
	overflow: hidden;
	animation: slideUp var(--transition-slow);
}

@keyframes slideUp {
	from {
		transform: translateY(20px);
		opacity: 0;
	}
	to {
		transform: translateY(0);
		opacity: 1;
	}
}

.modal-header {
	padding: var(--spacing-xl);
	border-bottom: 1px solid var(--gray-200);
}

.modal-title {
	margin: 0;
	font-size: 1.5rem;
	font-weight: 700;
	color: var(--text-primary);
}

.modal-content {
	padding: var(--spacing-xl);
	overflow-y: auto;
	max-height: 60vh;
}

.modal-text {
	width: 100%;
	padding: var(--spacing-md);
	border: 1px solid var(--gray-300);
	border-radius: var(--radius-md);
	font-size: 1rem;
	transition: all var(--transition-fast);
}

.modal-text:focus {
	outline: none;
	border-color: var(--primary-color);
	box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

.modal-footer {
	display: flex;
	justify-content: flex-end;
	gap: var(--spacing-md);
	padding: var(--spacing-lg) var(--spacing-xl);
	border-top: 1px solid var(--gray-200);
	background: var(--gray-50);
}

.modal-btn {
	padding: var(--spacing-sm) var(--spacing-lg);
	border-radius: var(--radius-md);
	font-weight: 600;
	cursor: pointer;
	transition: all var(--transition-fast);
	border: none;
	background: var(--gray-600);
	color: white;
}

.modal-btn:hover {
	background: var(--gray-700);
	transform: translateY(-1px);
	box-shadow: var(--shadow-md);
}

.modal-close {
	background: var(--primary-color);
}

.modal-close:hover {
	background: var(--primary-hover);
}

/* ============================================
   Scrollbars (Global)
   ============================================ */
::-webkit-scrollbar {
	width: 10px;
	height: 10px;
}

::-webkit-scrollbar-track {
	background: var(--gray-100);
}

::-webkit-scrollbar-thumb {
	background: var(--gray-300);
	border-radius: var(--radius-md);
}

::-webkit-scrollbar-thumb:hover {
	background: var(--gray-400);
}

/* ============================================
   Responsive Design - Tablet
   ============================================ */
@media (max-width: 1024px) {
	.side-bar {
		width: 320px;
	}

	.list-item {
		width: 100%;
	}

	.side-bar-title {
		font-size: 1rem;
	}
}

/* ============================================
   Responsive Design - Mobile
   ============================================ */
@media (max-width: 768px) {
	:root {
		--spacing-md: 0.75rem;
		--spacing-lg: 1rem;
		--spacing-xl: 1.5rem;
	}

	.contents-x {
		flex-direction: column;
	}

	.side-bar {
		width: 100%;
		max-height: 40vh;
		border-right: none;
		border-bottom: 1px solid var(--gray-200);
		order: 2;
	}

	.main {
		order: 1;
		min-height: 60vh;
	}

	.side-bar-header {
		padding: var(--spacing-md);
	}

	.side-bar-title {
		font-size: 0.875rem;
	}

	.list-item {
		width: 100%;
	}

	.main-details {
		padding: var(--spacing-md);
	}

	.modal-inner {
		width: 95%;
	}

	.modal-header,
	.modal-content,
	.modal-footer {
		padding: var(--spacing-md);
	}

	.modal-title {
		font-size: 1.25rem;
	}
}

@media (max-width: 480px) {
	html {
		font-size: 14px;
	}

	.side-bar-content {
		padding: var(--spacing-md);
	}

	.tab {
		padding: var(--spacing-sm);
		font-size: 0.75rem;
	}

	.selector {
		padding: var(--spacing-sm) var(--spacing-md);
	}

	.main-header-loading {
		font-size: 0.75rem;
		padding: var(--spacing-xs) var(--spacing-sm);
	}
}

/* ============================================
   Print Styles
   ============================================ */
@media print {
	.side-bar,
	.main-header-loading,
	.main-header-error {
		display: none !important;
	}

	.main {
		width: 100%;
	}

	.main-visualization,
	.main-details {
		page-break-inside: avoid;
	}
}

/* ============================================
   Animations & Utilities
   ============================================ */
.fade-in {
	animation: fadeIn var(--transition-base);
}

.slide-up {
	animation: slideUp var(--transition-slow);
}

.hidden {
	display: none !important;
}

.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}
